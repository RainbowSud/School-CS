X = c(4.8, 2.3, 2.4, 1.8, 4.7, 1.8, 0.6, 3.8, 2.0, 1.3,
      2.1, 0.4, 0.5, 4.8, 4.8, 2.9, 0.1, 1.2, 1.8, 4.3)
y = c(98.9, 21.7, 26.1, 20.2, 98.3, 23.3, 4.1, 75.4, 20.7, 15.8,
      17.6, 6.7, 1.3, 103.3, 110.6, 48.8, -2.4, 17.4, 23.1, 81.5)

Phi = matrix(c(1, X[1], X[1]**2,
                 1, X[2], X[2]**2,
                 1, X[3], X[3]**2,
                 1, X[4], X[4]**2,
                 1, X[5], X[5]**2,
                 1, X[6], X[6]**2,
                 1, X[7], X[7]**2,
                 1, X[8], X[8]**2,
                 1, X[9], X[9]**2,
                 1, X[10], X[10]**2,
                 1, X[11], X[11]**2,
                 1, X[12], X[12]**2,
                 1, X[13], X[13]**2,
                 1, X[14], X[14]**2,
                 1, X[15], X[15]**2,
                 1, X[16], X[16]**2,
                 1, X[17], X[17]**2,
                 1, X[18], X[18]**2,
                 1, X[19], X[19]**2,
                 1, X[20], X[20]**2), nrow=20, byrow=TRUE)

PhiEstimate = solve(t(Phi) %*% Phi) %*% t(Phi) %*% y
Predictedoutput = Phi %*% PhiEstimate
MSE = mean((y - Predictedoutput)**2)
stdDev = sqrt(MSE)


f = function(x) {
  PhiEstimate[3]*x^2 + PhiEstimate[2]*x+PhiEstimate[1]
}

domain =-10:10
plot(domain, f(domain), type = 'l')
abline(h=0)
abline(v=0)
points(c(4.8, 2.3, 2.4, 1.8, 4.7, 1.8, 0.6, 3.8, 2.0, 1.3,
       2.1, 0.4, 0.5, 4.8, 4.8, 2.9, 0.1, 1.2, 1.8, 4.3),
     c(98.9, 21.7, 26.1, 20.2, 98.3, 23.3, 4.1, 75.4, 20.7, 15.8,
       17.6, 6.7, 1.3, 103.3, 110.6, 48.8, -2.4, 17.4, 23.1, 81.5))
